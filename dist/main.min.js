!function(){"use strict";function e(){}e.prototype={preload:function(){this.load.image("preloader","assets/preloader.gif")},create:function(){this.game.input.maxPointers=1,this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.game.scale.setScreenSize(!0)),this.game.state.start("preloader")}},window["drift-runners"]=window["drift-runners"]||{},window["drift-runners"].Boot=e}(),function(){"use strict";function e(){this.player=null,this.steeringAngle=270,this.steeringMultiplier=2,this.currentSpeed=0,this.baseSpeed=0,this.backwardSpeed=0,this.skiddingSpeed=0,this.drifting=!1,this.reduceSpeed=!1}e.prototype={create:function(){var e=this.game.width/2,t=this.game.height/2;this.car=this.add.sprite(e,t,"cars"),this.car.anchor.set(.5),this.car.frame=18,this.game.physics.enable(this.car,Phaser.Physics.ARCADE),this.car.body.maxVelocity.set(400),this.car.body.drag.set(100),this.cursors=this.game.input.keyboard.createCursorKeys()},update:function(){this.currentSpeed>250?(this.baseSpeed=.25,this.steeringMultiplier=this.cursors.up.isDown?1:2):this.currentSpeed>200?(this.baseSpeed=.5,this.steeringMultiplier=this.cursors.up.isDown?1.5:2):this.currentSpeed>150?(this.baseSpeed=.75,this.steeringMultiplier=this.cursors.up.isDown?1.5:2):(this.baseSpeed=1,this.steeringMultiplier=2),this.cursors.left.isDown?this.currentSpeed>0?this.steeringAngle=this.steeringAngle>0?this.steeringAngle-this.steeringMultiplier:359:this.currentSpeed<0&&(this.steeringAngle=this.steeringAngle<359?this.steeringAngle+this.steeringMultiplier:0):this.cursors.right.isDown&&(this.currentSpeed>0?this.steeringAngle=this.steeringAngle<359?this.steeringAngle+this.steeringMultiplier:0:this.currentSpeed<0&&(this.steeringAngle=this.steeringAngle>0?this.steeringAngle-this.steeringMultiplier:359)),(this.cursors.left.isDown||this.cursors.right.isDown)&&(this.car.frame=Math.floor(24*this.steeringAngle/360)),this.cursors.up.isDown?(this.currentSpeed<300&&(this.currentSpeed+=this.baseSpeed),this.backwardSpeed<0&&(this.backwardSpeed+=this.baseSpeed),this.currentSpeed>250&&this.skiddingSpeed<100&&(this.skiddingSpeed+=1),this.drifting&&(this.reduceSpeed&&(this.currentSpeed*=.75,this.reduceSpeed=!1),this.currentSpeed>=0?this.game.physics.arcade.velocityFromAngle(this.steeringAngle,this.currentSpeed,this.car.body.velocity):this.game.physics.arcade.velocityFromAngle(this.steeringAngle,this.backwardSpeed,this.car.body.velocity))):this.cursors.down.isDown?this.currentSpeed>-100?this.currentSpeed-=4:this.backwardSpeed>-100&&(this.backwardSpeed-=4):this.currentSpeed>2?(this.currentSpeed-=2,this.backwardSpeed-=2):this.currentSpeed<-2?(this.currentSpeed+=2,this.backwardSpeed+=2):(this.currentSpeed=0,this.backwardSpeed=0),this.cursors.up.isDown||(this.skiddingSpeed>0&&(this.skiddingSpeed-=1),this.drifting&&(this.reduceSpeed=!0)),this.skiddingSpeed?this.drifting||(this.drifting=!0):(this.currentSpeed>=0?this.game.physics.arcade.velocityFromAngle(this.steeringAngle,this.currentSpeed,this.car.body.velocity):this.game.physics.arcade.velocityFromAngle(this.steeringAngle,this.backwardSpeed,this.car.body.velocity),this.drifting=!1)},onInputDown:function(){this.game.state.start("menu")}},window["drift-runners"]=window["drift-runners"]||{},window["drift-runners"].Game=e}(),window.onload=function(){"use strict";var e,t=window["drift-runners"];e=new Phaser.Game(640,480,Phaser.AUTO,"drift-runners-game"),e.state.add("boot",t.Boot),e.state.add("preloader",t.Preloader),e.state.add("menu",t.Menu),e.state.add("game",t.Game),e.state.start("boot")},function(){"use strict";function e(){this.titleTxt=null,this.startTxt=null}e.prototype={create:function(){var e=this.game.width/2,t=this.game.height/2;this.titleTxt=this.add.bitmapText(e,t,"minecraftia","Example Game"),this.titleTxt.align="center",this.titleTxt.x=this.game.width/2-this.titleTxt.textWidth/2,t=t+this.titleTxt.height+5,this.startTxt=this.add.bitmapText(e,t,"minecraftia","START"),this.startTxt.align="center",this.startTxt.x=this.game.width/2-this.startTxt.textWidth/2,this.input.onDown.add(this.onDown,this)},update:function(){},onDown:function(){this.game.state.start("game")}},window["drift-runners"]=window["drift-runners"]||{},window["drift-runners"].Menu=e}(),function(){"use strict";function e(){this.asset=null,this.ready=!1}e.prototype={preload:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.setPreloadSprite(this.asset),this.loadResources()},loadResources:function(){this.load.image("player","assets/player.png"),this.load.bitmapFont("minecraftia","assets/minecraftia.png","assets/minecraftia.xml"),this.load.atlas("cars","assets/cars.png","assets/cars.json")},create:function(){this.asset.cropEnabled=!1},update:function(){this.ready&&this.game.state.start("menu")},onLoadComplete:function(){this.ready=!0}},window["drift-runners"]=window["drift-runners"]||{},window["drift-runners"].Preloader=e}();